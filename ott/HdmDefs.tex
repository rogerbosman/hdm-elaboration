% generated by Ott 0.32 from: /home/roger/hdm/ott/HdmDefs.ott
\newcommand{\ottdrule}[4][]{{\displaystyle\frac{\begin{array}{l}#2\end{array}}{#3}\quad\ottdrulename{#4}}}
\newcommand{\ottusedrule}[1]{\[#1\]}
\newcommand{\ottpremise}[1]{ #1 \\}
\newenvironment{ottdefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]}{}
\newenvironment{ottfundefnblock}[3][]{ \framebox{\mbox{#2}} \quad #3 \\[0pt]\begin{displaymath}\begin{array}{l}}{\end{array}\end{displaymath}}
\newcommand{\ottfunclause}[2]{ #1 \equiv #2 \\}
\newcommand{\ottnt}[1]{\mathit{#1}}
\newcommand{\ottmv}[1]{\mathit{#1}}
\newcommand{\ottkw}[1]{\mathbf{#1}}
\newcommand{\ottsym}[1]{#1}
\newcommand{\ottcom}[1]{\text{#1}}
\newcommand{\ottdrulename}[1]{\textsc{#1}}
\newcommand{\ottcomplu}[5]{\overline{#1}^{\,#2\in #3 #4 #5}}
\newcommand{\ottcompu}[3]{\overline{#1}^{\,#2<#3}}
\newcommand{\ottcomp}[2]{\overline{#1}^{\,#2}}
\newcommand{\ottgrammartabular}[1]{\begin{supertabular}{llcllllll}#1\end{supertabular}}
\newcommand{\ottmetavartabular}[1]{\begin{supertabular}{ll}#1\end{supertabular}}
\newcommand{\ottrulehead}[3]{$#1$ & & $#2$ & & & \multicolumn{2}{l}{#3}}
\newcommand{\ottprodline}[6]{& & $#1$ & $#2$ & $#3 #4$ & $#5$ & $#6$}
\newcommand{\ottfirstprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottlongprodline}[2]{& & $#1$ & \multicolumn{4}{l}{$#2$}}
\newcommand{\ottfirstlongprodline}[2]{\ottlongprodline{#1}{#2}}
\newcommand{\ottbindspecprodline}[6]{\ottprodline{#1}{#2}{#3}{#4}{#5}{#6}}
\newcommand{\ottprodnewline}{\\}
\newcommand{\ottinterrule}{\\[5.0mm]}
\newcommand{\ottafterlastrule}{\\}
\newcommand{\ottmetavars}{
\ottmetavartabular{
 $ \ottmv{index} ,\, \ottmv{in} ,\, \ottmv{out} ,\, \ottmv{dec} ,\, \ottmv{alg} $ &  \\
 $ \ottmv{var} ,\, x $ & \ottcom{expression variable} \\
 $ \ottmv{tvar} ,\, x $ & \ottcom{term variable} \\
 $ \ottmv{skvar} ,\, \alpha ,\, \beta $ & \ottcom{skollem variable} \\
}}

\newcommand{\ottEx}{
\ottrulehead{\ottnt{Ex}  ,\ e}{::=}{\ottcom{Terms}}\ottprodnewline
\ottfirstprodline{|}{x}{}{}{}{\ottcom{Term variable}}\ottprodnewline
\ottprodline{|}{\texttt{unit}}{}{}{}{\ottcom{Unit}}\ottprodnewline
\ottprodline{|}{e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}}{}{}{}{\ottcom{Term Application}}\ottprodnewline
\ottprodline{|}{\lambda  x  .  e}{}{\textsf{bind}\; x\; \textsf{in}\; e}{}{\ottcom{Term Abstraction}}\ottprodnewline
\ottprodline{|}{\textbf{let} \, x  \ottsym{=}  e_{{\mathrm{1}}} \, \textbf{in} \, e_{{\mathrm{2}}}}{}{\textsf{bind}\; x\; \textsf{in}\; e_{{\mathrm{2}}}}{}{\ottcom{Let}}}

\newcommand{\ottT}{
\ottrulehead{\ottnt{T}  ,\ \tau}{::=}{\ottcom{Types}}\ottprodnewline
\ottfirstprodline{|}{\alpha}{}{}{}{\ottcom{Type variable}}\ottprodnewline
\ottprodline{|}{\texttt{Unit}}{}{}{}{\ottcom{Unit}}\ottprodnewline
\ottprodline{|}{\ottkw{Bool}}{}{}{}{\ottcom{Bool}}\ottprodnewline
\ottprodline{|}{\tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}}{}{}{}{\ottcom{Function}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \tau  \ottsym{)}} {\textsf{S}}{}{}{\ottcom{Parenthesis}}}

\newcommand{\ottSc}{
\ottrulehead{\ottnt{Sc}  ,\ \sigma}{::=}{\ottcom{Type schemes}}\ottprodnewline
\ottfirstprodline{|}{\tau}{}{}{}{\ottcom{Monotype}}\ottprodnewline
\ottprodline{|}{\forall \, \alpha  .  \sigma}{}{\textsf{bind}\; \alpha\; \textsf{in}\; \sigma}{}{\ottcom{Forall}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \tau  \ottsym{/}  \alpha  \ottsym{]}  \sigma} {\textsf{M}}{}{}{\ottcom{Type substitution}}\ottprodnewline
\ottprodline{|}{\ottsym{\{}  \tau  \ottsym{/}  \alpha  \ottsym{\}}  \sigma} {\textsf{M}}{}{}{\ottcom{Non-opening Type substitution}}\ottprodnewline
\ottprodline{|}{\theta \, \sigma} {\textsf{M}}{}{}{\ottcom{Multiple Type substitution}}\ottprodnewline
\ottprodline{|}{ \forall  A  .  \tau } {\textsf{M}}{}{}{\ottcom{Closing w.r.t. A}}}

\newcommand{\ottTm}{
\ottrulehead{\ottnt{Tm}  ,\ t  ,\ \ottnt{v}}{::=}{\ottcom{Elaborated terms}}\ottprodnewline
\ottfirstprodline{|}{x}{}{}{}{\ottcom{Term variable}}\ottprodnewline
\ottprodline{|}{\texttt{unit}}{}{}{}{\ottcom{Unit}}\ottprodnewline
\ottprodline{|}{\ottkw{true}}{}{}{}{\ottcom{True}}\ottprodnewline
\ottprodline{|}{\ottkw{false}}{}{}{}{\ottcom{False}}\ottprodnewline
\ottprodline{|}{t_{{\mathrm{1}}} \, t_{{\mathrm{2}}}}{}{}{}{\ottcom{Term Application}}\ottprodnewline
\ottprodline{|}{t  \ottsym{[}  \tau  \ottsym{]}}{}{}{}{\ottcom{Type Application}}\ottprodnewline
\ottprodline{|}{\lambda  \ottsym{(}  x  \ottsym{:}  \tau  \ottsym{)}  .  t}{}{\textsf{bind}\; x\; \textsf{in}\; t}{}{\ottcom{Term Abstraction}}\ottprodnewline
\ottprodline{|}{\Lambda  \alpha  .  t}{}{\textsf{bind}\; \alpha\; \textsf{in}\; t}{}{\ottcom{Type Abstraction}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  t  \ottsym{)}} {\textsf{S}}{}{}{\ottcom{Parenthesis}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  t_{{\mathrm{1}}}  \ottsym{/}  x  \ottsym{]}  t_{{\mathrm{2}}}} {\textsf{M}}{}{}{\ottcom{Type substitution}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  t_{{\mathrm{1}}}  \ottsym{/}  x  \ottsym{]}  t_{{\mathrm{2}}}} {\textsf{M}}{}{}{\ottcom{Type substitution}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \tau  \ottsym{/}  \alpha  \ottsym{]}  t} {\textsf{M}}{}{}{\ottcom{Type substitution}}\ottprodnewline
\ottprodline{|}{\theta \, t} {\textsf{M}}{}{}{\ottcom{Multiple Type substitution}}\ottprodnewline
\ottprodline{|}{ \Lambda  A  .  t } {\textsf{M}}{}{}{\ottcom{Closing w.r.t. A}}\ottprodnewline
\ottprodline{|}{ t } {\textsf{M}}{}{}{\ottcom{Closing w.r.t. x}}\ottprodnewline
\ottprodline{|}{ [  t_{{\mathrm{2}}}  /  x  ]  t_{{\mathrm{1}}} } {\textsf{M}}{}{}{\ottcom{Fake substitution}}\ottprodnewline
\ottprodline{|}{x} {\textsf{M}}{}{}{\ottcom{Term variable}}\ottprodnewline
\ottprodline{|}{\lambda  \ottsym{(}  x  \ottsym{:}  \tau  \ottsym{)}  .  t} {\textsf{M}}{}{}{}}

\newcommand{\ottA}{
\ottrulehead{\ottnt{A}  ,\ A}{::=}{\ottcom{Type variable list}}\ottprodnewline
\ottfirstprodline{|}{\bullet} {\textsf{M}}{}{}{\ottcom{Empty A}}\ottprodnewline
\ottprodline{|}{A  \ottsym{;}  \alpha} {\textsf{M}}{}{}{\ottcom{Cons A}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  A  \ottsym{)}} {\textsf{M}}{}{}{\ottcom{Parenthesis}}\ottprodnewline
\ottprodline{|}{\langle  \alpha  \rangle} {\textsf{M}}{}{}{\ottcom{Singleton}}\ottprodnewline
\ottprodline{|}{\langle  \alpha  \ottsym{;}  \beta  \rangle} {\textsf{M}}{}{}{\ottcom{Twingleton}}\ottprodnewline
\ottprodline{|}{A_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}} {\textsf{M}}{}{}{\ottcom{Append}}}

\newcommand{\ottE}{
\ottrulehead{\ottnt{E}  ,\ \Psi}{::=}{\ottcom{Environment}}\ottprodnewline
\ottfirstprodline{|}{\bullet}{}{}{}{\ottcom{Empty environment}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  A}{}{}{}{\ottcom{Cons Existential environment}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  x  \ottsym{:}  \sigma}{}{}{}{\ottcom{Cons Variable}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  x  \ottsym{:}  \sigma} {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  \ottsym{\{}  t  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \sigma  \ottsym{\}}}{}{}{}{\ottcom{Cons Object}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  \ottsym{\{}  t  \ottsym{:}  \sigma  \ottsym{\}}} {\textsf{S}}{}{}{\ottcom{Cons Object without a}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  \ottsym{\{}  t  \ottsym{\}}} {\textsf{M}}{}{}{\ottcom{Cons Object only t}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{;}  \ottsym{\{}  A  \ottsym{\}}} {\textsf{M}}{}{}{\ottcom{Cons Object only a}}\ottprodnewline
\ottprodline{|}{\Psi_{{\mathrm{1}}}  \ottsym{+}  \Psi_{{\mathrm{2}}}} {\textsf{M}}{}{}{\ottcom{Eironment append}}\ottprodnewline
\ottprodline{|}{\ottkw{append} \, \Psi \, \alpha} {\textsf{M}}{}{}{\ottcom{Typevar append}}\ottprodnewline
\ottprodline{|}{\langle  A  \rangle} {\textsf{M}}{}{}{\ottcom{OneA}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \tau  \ottsym{/}  \alpha  \ottsym{]}  \Psi} {\textsf{M}}{}{}{\ottcom{Existential variable substitution}}}

\newcommand{\ottEqs}{
\ottrulehead{\ottnt{Eqs}  ,\ \Theta}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet}{}{}{}{\ottcom{Empty equaltities}}\ottprodnewline
\ottprodline{|}{\tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \ottsym{;}  \Theta}{}{}{}{\ottcom{Cons Equality}}\ottprodnewline
\ottprodline{|}{\langle  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \rangle} {\textsf{S}}{}{}{\ottcom{Singleton}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \tau  \ottsym{/}  \alpha  \ottsym{]}  \Theta} {\textsf{M}}{}{}{\ottcom{Existential variable substitution}}}

\newcommand{\ottEXXandXXEqs}{
\ottrulehead{(E \vdash \Theta)}{::=}{\ottcom{E and Eqs pair (for unification)}}\ottprodnewline
\ottfirstprodline{|}{\Psi  \vdash  \ottnt{Eqs}} {\textsf{M}}{}{}{\ottcom{Pair}}}

\newcommand{\ottSub}{
\ottrulehead{\ottnt{Sub}  ,\ \theta}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\bullet}{}{}{}{\ottcom{Empty}}\ottprodnewline
\ottprodline{|}{\ottsym{[}  \tau  \ottsym{/}  \alpha  \ottsym{]} \, \circ \, \theta}{}{}{}{\ottcom{Cons}}\ottprodnewline
\ottprodline{|}{\theta_{{\mathrm{1}}}  \ottsym{+}  \theta_{{\mathrm{2}}}} {\textsf{M}}{}{}{\ottcom{Append}}\ottprodnewline
\ottprodline{|}{\ottsym{(}  \theta  \ottsym{)}} {\textsf{M}}{}{}{\ottcom{Parenthesis}}}

\newcommand{\ottvars}{
\ottrulehead{\ottnt{vars}  ,\ \ottnt{L}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \ottnt{L_{{\mathrm{1}}}}  \cup  \ottnt{L_{{\mathrm{2}}}} } {\textsf{M}}{}{}{}\ottprodnewline
\ottprodline{|}{ \Psi } {\textsf{M}}{}{}{}}

\newcommand{\ottterminals}{
\ottrulehead{\ottnt{terminals}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \lambda }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Lambda }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \longrightarrow }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \longrightarrow^* }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \to }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \leadsto }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \bullet }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{let} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \textbf{in} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{unit} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \texttt{Unit} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \forall }{}{}{}{}\ottprodnewline
\ottprodline{|}{ . }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash_{\texttt{t} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash_{\texttt{T} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash_{\texttt{Sc} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Vdash }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vdash_{\texttt{tl} } }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Vdash }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \dashv }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \sim }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \geq }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \geq_d }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \geq_{spec} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \geq_a }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \leq }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \langle }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \rangle }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \circ }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \doubleplus }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \coprod }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \mapsto }{}{}{}{}}

\newcommand{\ottformula}{
\ottrulehead{\ottnt{formula}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{judgement}}{}{}{}{}\ottprodnewline
\ottprodline{|}{ (  \tau_{{\mathrm{1}}}  ,  \tau_{{\mathrm{2}}}  ) \equiv (  \tau_{{\mathrm{3}}} ,  \tau_{{\mathrm{4}}}  ) }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \alpha  \in  \Psi }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \alpha  \#  \Psi }{}{}{}{}\ottprodnewline
\ottprodline{|}{ A  \#  \ottnt{L} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ ( x  :  \sigma ) \in  \Psi }{}{}{}{}\ottprodnewline
\ottprodline{|}{ ( x  :  \sigma ) \in  \Psi }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Psi  ( x ) =  \sigma }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Psi  ( x ) =  \sigma }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \alpha  \not\in \mathsf{fv}( \tau ) }{}{}{}{}\ottprodnewline
\ottprodline{|}{ x  \not\in  \Psi }{}{}{}{}\ottprodnewline
\ottprodline{|}{ (E \vdash \Theta)   \longrightarrow^*   (E \vdash \Theta)' }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vspace{-1em} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vspace{-1em} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vspace{-1em} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vspace{-1em} }{}{}{}{}\ottprodnewline
\ottprodline{|}{ \vspace{-1em} }{}{}{}{}\ottprodnewline
\ottprodline{|}{\Psi  \vdash_{\texttt{t} }  t}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Psi  \vdash_{\texttt{T} }  \tau}{}{}{}{}\ottprodnewline
\ottprodline{|}{\Psi  \vdash_{\texttt{Sc} }  \sigma}{}{}{}{}\ottprodnewline
\ottprodline{|}{ \Psi  \vdash  t_{{\mathrm{1}}}  :  \sigma  \geq  t_{{\mathrm{2}}}  :  \tau }{}{}{}{}\ottprodnewline
\ottprodline{|}{\Psi  \Vdash  t_{{\mathrm{1}}}  \ottsym{:}  \sigma  \geq_d  t_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{]}  \tau}{}{}{}{}\ottprodnewline
\ottprodline{|}{ t_{{\mathrm{1}}}  :  \sigma  \geq_{a}  t_{{\mathrm{2}}}  : [  A  ]  \tau }{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{val} \, \ottkw{fv}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{val} \, \ottnt{v}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{Alg} \, \alpha}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottkw{Dec} \, \ottnt{A}}{}{}{}{}}

\newcommand{\ottTermTyping}{
\ottrulehead{\ottnt{TermTyping}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Psi  \vdash  t  \ottsym{:}  \sigma}{}{}{}{\ottcom{Term typing}}}

\newcommand{\ottWellFormedness}{
\ottrulehead{\ottnt{WellFormedness}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{ \texttt{wf}( \Psi ) }{}{}{}{\ottcom{Environment Well-formedness}}}

\newcommand{\ottUnification}{
\ottrulehead{\ottnt{Unification}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Psi_{\ottmv{in}}  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \dashv  \Psi_{\ottmv{out}}}{}{}{}{\ottcom{Unification Algorithm}}\ottprodnewline
\ottprodline{|}{ \begin{array}{l}  (E \vdash \Theta)_{\ottmv{in}}   \longrightarrow  \\  (E \vdash \Theta)_{\ottmv{out}}  \end{array} }{}{}{}{\ottcom{Unification Algorithm (Single-step)}}}

\newcommand{\ottDeclarativeSystem}{
\ottrulehead{\ottnt{DeclarativeSystem}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Psi  \Vdash  e  \ottsym{:}  \tau  \leadsto  t}{}{}{}{\ottcom{Term Typing}}\ottprodnewline
\ottprodline{|}{\Psi  \Vdash  t_{{\mathrm{1}}}  \ottsym{:}  \sigma  \geq_{spec}  t_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{]}  \tau}{}{}{}{\ottcom{SubSump with A}}\ottprodnewline
\ottprodline{|}{\Psi  \Vdash  e  \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{]}  \tau  \leadsto  t}{}{}{}{\ottcom{Term Typing with A}}}

\newcommand{\ottAlgorithmicSystem}{
\ottrulehead{\ottnt{AlgorithmicSystem}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Psi_{{\mathrm{1}}}  \vdash  e  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \tau  \leadsto  t  \dashv  \Psi_{{\mathrm{2}}}}{}{}{}{\ottcom{Type Inference}}}

\newcommand{\ottEironmentInstantiation}{
\ottrulehead{\ottnt{EironmentInstantiation}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\Psi  \vdash  A  \leadsto  \theta_{{\mathrm{2}}}}{}{}{}{\ottcom{A instantiation}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}{}{}{}{\ottcom{Environment instantiation}}\ottprodnewline
\ottprodline{|}{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}{}{}{}{\ottcom{Environment instantiation}}}

\newcommand{\ottjudgement}{
\ottrulehead{\ottnt{judgement}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottnt{TermTyping}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{WellFormedness}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Unification}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{DeclarativeSystem}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{AlgorithmicSystem}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{EironmentInstantiation}}{}{}{}{}}

\newcommand{\ottuserXXsyntax}{
\ottrulehead{\ottnt{user\_syntax}}{::=}{}\ottprodnewline
\ottfirstprodline{|}{\ottmv{index}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{var}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{tvar}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottmv{skvar}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Ex}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{T}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Sc}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Tm}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{A}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{E}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Eqs}}{}{}{}{}\ottprodnewline
\ottprodline{|}{(E \vdash \Theta)}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{Sub}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{vars}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{terminals}}{}{}{}{}\ottprodnewline
\ottprodline{|}{\ottnt{formula}}{}{}{}{}}

\newcommand{\ottgrammar}{\ottgrammartabular{
\ottEx\ottinterrule
\ottT\ottinterrule
\ottSc\ottinterrule
\ottTm\ottinterrule
\ottA\ottinterrule
\ottE\ottinterrule
\ottEqs\ottinterrule
\ottEXXandXXEqs\ottinterrule
\ottSub\ottinterrule
\ottvars\ottinterrule
\ottterminals\ottinterrule
\ottformula\ottinterrule
\ottTermTyping\ottinterrule
\ottWellFormedness\ottinterrule
\ottUnification\ottinterrule
\ottDeclarativeSystem\ottinterrule
\ottAlgorithmicSystem\ottinterrule
\ottEironmentInstantiation\ottinterrule
\ottjudgement\ottinterrule
\ottuserXXsyntax\ottafterlastrule
}}

% defnss
% defns TermTyping
%% defn TmTy
\newcommand{\ottdruleTmTyXXXXVar}[1]{\ottdrule[#1]{%
\ottpremise{ \Psi  ( x ) =  \sigma }%
}{
\Psi  \vdash  x  \ottsym{:}  \sigma}{%
{\ottdrulename{TmTy\_\_Var}}{}%
}}


\newcommand{\ottdruleTmTyXXXXUnit}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \vdash  \texttt{unit}  \ottsym{:}  \texttt{Unit}}{%
{\ottdrulename{TmTy\_\_Unit}}{}%
}}


\newcommand{\ottdruleTmTyXXXXTrue}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \vdash  \ottkw{true}  \ottsym{:}  \ottkw{Bool}}{%
{\ottdrulename{TmTy\_\_True}}{}%
}}


\newcommand{\ottdruleTmTyXXXXFalse}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \vdash  \ottkw{false}  \ottsym{:}  \ottkw{Bool}}{%
{\ottdrulename{TmTy\_\_False}}{}%
}}


\newcommand{\ottdruleTmTyXXXXAbs}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \vdash_{\texttt{T} }  \tau_{{\mathrm{1}}}}%
\ottpremise{\Psi  \ottsym{;}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \vdash  t  \ottsym{:}  \tau_{{\mathrm{2}}}}%
}{
\Psi  \vdash  \lambda  \ottsym{(}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{)}  .  t  \ottsym{:}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{TmTy\_\_Abs}}{}%
}}


\newcommand{\ottdruleTmTyXXXXApp}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \vdash  t_{{\mathrm{1}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}}%
\ottpremise{\Psi  \vdash  t_{{\mathrm{2}}}  \ottsym{:}  \tau_{{\mathrm{1}}}}%
}{
\Psi  \vdash  t_{{\mathrm{1}}} \, t_{{\mathrm{2}}}  \ottsym{:}  \tau_{{\mathrm{2}}}}{%
{\ottdrulename{TmTy\_\_App}}{}%
}}


\newcommand{\ottdruleTmTyXXXXTAbs}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \ottsym{;}  \langle  \alpha  \rangle  \vdash  t  \ottsym{:}  \sigma}%
}{
\Psi  \vdash  \Lambda  \alpha  .  t  \ottsym{:}  \forall \, \alpha  .  \sigma}{%
{\ottdrulename{TmTy\_\_TAbs}}{}%
}}


\newcommand{\ottdruleTmTyXXXXTApp}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \vdash_{\texttt{T} }  \tau}%
\ottpremise{\Psi  \vdash  t  \ottsym{:}  \forall \, \alpha  .  \sigma}%
}{
\Psi  \vdash  t  \ottsym{[}  \tau  \ottsym{]}  \ottsym{:}  \ottsym{\{}  \tau  \ottsym{/}  \alpha  \ottsym{\}}  \sigma}{%
{\ottdrulename{TmTy\_\_TApp}}{}%
}}

\newcommand{\ottdefnTmTy}[1]{\begin{ottdefnblock}[#1]{$\Psi  \vdash  t  \ottsym{:}  \sigma$}{\ottcom{Term typing}}
\ottusedrule{\ottdruleTmTyXXXXVar{}}
\ottusedrule{\ottdruleTmTyXXXXUnit{}}
\ottusedrule{\ottdruleTmTyXXXXTrue{}}
\ottusedrule{\ottdruleTmTyXXXXFalse{}}
\ottusedrule{\ottdruleTmTyXXXXAbs{}}
\ottusedrule{\ottdruleTmTyXXXXApp{}}
\ottusedrule{\ottdruleTmTyXXXXTAbs{}}
\ottusedrule{\ottdruleTmTyXXXXTApp{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsTermTyping}{
\ottdefnTmTy{}}

% defns WellFormedness
%% defn WfE
\newcommand{\ottdruleWfEXXXXNil}[1]{\ottdrule[#1]{%
}{
 \texttt{wf}( \bullet ) }{%
{\ottdrulename{WfE\_\_Nil}}{}%
}}


\newcommand{\ottdruleWfEXXXXA}[1]{\ottdrule[#1]{%
\ottpremise{ \texttt{wf}( \Psi ) }%
\ottpremise{ \ottnt{A}  \#   \Psi  }%
}{
 \texttt{wf}( \Psi  \ottsym{;}  \ottnt{A} ) }{%
{\ottdrulename{WfE\_\_A}}{}%
}}


\newcommand{\ottdruleWfEXXXXS}[1]{\ottdrule[#1]{%
\ottpremise{ \texttt{wf}( \Psi ) }%
\ottpremise{ x  \not\in  \Psi }%
\ottpremise{\Psi  \vdash_{\texttt{Sc} }  \sigma}%
}{
 \texttt{wf}( \Psi  \ottsym{;}  x  \ottsym{:}  \sigma ) }{%
{\ottdrulename{WfE\_\_S}}{}%
}}


\newcommand{\ottdruleWfEXXXXO}[1]{\ottdrule[#1]{%
\ottpremise{ \texttt{wf}( \Psi ) }%
\ottpremise{ A  \#   \Psi  }%
\ottpremise{\Psi  \ottsym{;}  A  \vdash_{\texttt{Sc} }  \sigma}%
\ottpremise{\Psi  \ottsym{;}  A  \vdash_{\texttt{t} }  t}%
}{
 \texttt{wf}( \Psi  \ottsym{;}  \ottsym{\{}  t  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \sigma  \ottsym{\}} ) }{%
{\ottdrulename{WfE\_\_O}}{}%
}}

\newcommand{\ottdefnWfE}[1]{\begin{ottdefnblock}[#1]{$ \texttt{wf}( \Psi ) $}{\ottcom{Environment Well-formedness}}
\ottusedrule{\ottdruleWfEXXXXNil{}}
\ottusedrule{\ottdruleWfEXXXXA{}}
\ottusedrule{\ottdruleWfEXXXXS{}}
\ottusedrule{\ottdruleWfEXXXXO{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsWellFormedness}{
\ottdefnWfE{}}

% defns Unification
%% defn U
\newcommand{\ottdruleUXXXXU}[1]{\ottdrule[#1]{%
\ottpremise{ \Psi_{{\mathrm{1}}}  \vdash  \langle  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \rangle   \longrightarrow^*   \Psi_{{\mathrm{2}}}  \vdash  \bullet }%
}{
\Psi_{{\mathrm{1}}}  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \dashv  \Psi_{{\mathrm{2}}}}{%
{\ottdrulename{U\_\_U}}{}%
}}

\newcommand{\ottdefnU}[1]{\begin{ottdefnblock}[#1]{$\Psi_{\ottmv{in}}  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \dashv  \Psi_{\ottmv{out}}$}{\ottcom{Unification Algorithm}}
\ottusedrule{\ottdruleUXXXXU{}}
\end{ottdefnblock}}

%% defn Uss
\newcommand{\ottdruleUssXXXXUnit}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
 \begin{array}{l}  \Psi  \vdash  \texttt{Unit} \, \sim \, \texttt{Unit}  \ottsym{;}  \Theta   \longrightarrow  \\  \Psi  \vdash  \Theta  \end{array} }{%
{\ottdrulename{Uss\_\_Unit}}{}%
}}


\newcommand{\ottdruleUssXXXXEx}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
 \begin{array}{l}  \Psi  \vdash  \alpha \, \sim \, \alpha  \ottsym{;}  \Theta   \longrightarrow  \\  \Psi  \vdash  \Theta  \end{array} }{%
{\ottdrulename{Uss\_\_Ex}}{}%
}}


\newcommand{\ottdruleUssXXXXArr}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
}{
 \begin{array}{l}  \Psi  \vdash  \ottsym{(}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}  \ottsym{)} \, \sim \, \ottsym{(}  \tau_{{\mathrm{3}}}  \to  \tau_{{\mathrm{4}}}  \ottsym{)}  \ottsym{;}  \Theta   \longrightarrow  \\  \Psi  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{3}}}  \ottsym{;}  \tau_{{\mathrm{2}}} \, \sim \, \tau_{{\mathrm{4}}}  \ottsym{;}  \Theta  \end{array} }{%
{\ottdrulename{Uss\_\_Arr}}{}%
}}


\newcommand{\ottdruleUssXXXXSplit}[1]{\ottdrule[#1]{%
\ottpremise{ \alpha  \not\in \mathsf{fv}( \tau_{{\mathrm{3}}}  \to  \tau_{{\mathrm{4}}} ) }%
\ottpremise{ \langle  \alpha_{{\mathrm{1}}}  \ottsym{;}  \alpha_{{\mathrm{2}}}  \rangle  \#   \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \ottsym{;}  \alpha  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \Psi_{{\mathrm{2}}}  }%
\ottpremise{\ottkw{Alg} \, \alpha_{{\mathrm{1}}}}%
\ottpremise{\ottkw{Alg} \, \alpha_{{\mathrm{2}}}}%
\ottpremise{ (  \alpha  ,  \ottsym{(}  \tau_{{\mathrm{3}}}  \to  \tau_{{\mathrm{4}}}  \ottsym{)}  ) \equiv (  \tau_{{\mathrm{1}}} ,  \tau_{{\mathrm{2}}}  ) }%
}{
 \begin{array}{l}  \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \ottsym{;}  \alpha  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \Psi_{{\mathrm{2}}}  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \ottsym{;}  \Theta   \longrightarrow  \\  \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \ottsym{;}  \alpha_{{\mathrm{1}}}  \ottsym{;}  \alpha_{{\mathrm{2}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \ottsym{[}  \alpha_{{\mathrm{1}}}  \to  \alpha_{{\mathrm{2}}}  \ottsym{/}  \alpha  \ottsym{]}  \Psi_{{\mathrm{2}}}  \vdash  \ottsym{(}  \alpha_{{\mathrm{1}}}  \to  \alpha_{{\mathrm{2}}}  \ottsym{)} \, \sim \, \ottsym{(}  \tau_{{\mathrm{3}}}  \to  \tau_{{\mathrm{4}}}  \ottsym{)}  \ottsym{;}  \ottsym{[}  \alpha_{{\mathrm{1}}}  \to  \alpha_{{\mathrm{2}}}  \ottsym{/}  \alpha  \ottsym{]}  \Theta  \end{array} }{%
{\ottdrulename{Uss\_\_Split}}{}%
}}


\newcommand{\ottdruleUssXXXXSubEx}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \alpha  \in  \Psi_{{\mathrm{1}}}  \ottsym{;}  A_{{\mathrm{1}}} }%
\ottpremise{ (  \alpha  ,  \beta  ) \equiv (  \tau_{{\mathrm{1}}} ,  \tau_{{\mathrm{2}}}  ) }%
}{
 \begin{array}{l}  \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \ottsym{;}  \beta  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \Psi_{{\mathrm{2}}}  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \ottsym{;}  \Theta   \longrightarrow  \\  \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \ottsym{[}  \alpha  \ottsym{/}  \beta  \ottsym{]}  \Psi_{{\mathrm{2}}}  \vdash  \ottsym{[}  \alpha  \ottsym{/}  \beta  \ottsym{]}  \Theta  \end{array} }{%
{\ottdrulename{Uss\_\_SubEx}}{}%
}}


\newcommand{\ottdruleUssXXXXSubUnit}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ (  \texttt{Unit}  ,  \alpha  ) \equiv (  \tau_{{\mathrm{1}}} ,  \tau_{{\mathrm{2}}}  ) }%
}{
 \begin{array}{l}  \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \ottsym{;}  \alpha  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \Psi_{{\mathrm{2}}}  \vdash  \tau_{{\mathrm{1}}} \, \sim \, \tau_{{\mathrm{2}}}  \ottsym{;}  \Theta   \longrightarrow  \\  \Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{(}  A_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)}  \ottsym{+}  \ottsym{[}  \texttt{Unit}  \ottsym{/}  \alpha  \ottsym{]}  \Psi_{{\mathrm{2}}}  \vdash  \ottsym{[}  \texttt{Unit}  \ottsym{/}  \alpha  \ottsym{]}  \Theta  \end{array} }{%
{\ottdrulename{Uss\_\_SubUnit}}{}%
}}

\newcommand{\ottdefnUss}[1]{\begin{ottdefnblock}[#1]{$ \begin{array}{l}  (E \vdash \Theta)_{\ottmv{in}}   \longrightarrow  \\  (E \vdash \Theta)_{\ottmv{out}}  \end{array} $}{\ottcom{Unification Algorithm (Single-step)}}
\ottusedrule{\ottdruleUssXXXXUnit{}}
\ottusedrule{\ottdruleUssXXXXEx{}}
\ottusedrule{\ottdruleUssXXXXArr{}}
\ottusedrule{\ottdruleUssXXXXSplit{}}
\ottusedrule{\ottdruleUssXXXXSubEx{}}
\ottusedrule{\ottdruleUssXXXXSubUnit{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsUnification}{
\ottdefnU{}\ottdefnUss{}}

% defns DeclarativeSystem
%% defn Dec
\newcommand{\ottdruleDecXXXXVar}[1]{\ottdrule[#1]{%
\ottpremise{ \Psi  ( x ) =  \sigma }%
\ottpremise{ \Psi  \vdash  x  :  \sigma  \geq  t  :  \tau }%
}{
\Psi  \Vdash  x  \ottsym{:}  \tau  \leadsto  t}{%
{\ottdrulename{Dec\_\_Var}}{}%
}}


\newcommand{\ottdruleDecXXXXUnit}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \Vdash  \texttt{unit}  \ottsym{:}  \texttt{Unit}  \leadsto  \texttt{unit}}{%
{\ottdrulename{Dec\_\_Unit}}{}%
}}


\newcommand{\ottdruleDecXXXXAbs}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \vdash_{\texttt{T} }  \tau_{{\mathrm{1}}}}%
\ottpremise{\Psi  \ottsym{;}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \Vdash  e  \ottsym{:}  \tau_{{\mathrm{2}}}  \leadsto   t }%
}{
\Psi  \Vdash  \lambda  x  .  e  \ottsym{:}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}  \leadsto  \lambda  \ottsym{(}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{)}  .  t}{%
{\ottdrulename{Dec\_\_Abs}}{}%
}}


\newcommand{\ottdruleDecXXXXApp}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \Vdash  e_{{\mathrm{1}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}  \leadsto  t_{{\mathrm{1}}}}%
\ottpremise{\Psi  \Vdash  e_{{\mathrm{2}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \leadsto  t_{{\mathrm{2}}}}%
}{
\Psi  \Vdash  e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}  \ottsym{:}  \tau_{{\mathrm{2}}}  \leadsto  t_{{\mathrm{1}}} \, t_{{\mathrm{2}}}}{%
{\ottdrulename{Dec\_\_App}}{}%
}}


\newcommand{\ottdruleDecXXXXLet}[1]{\ottdrule[#1]{%
\ottpremise{ A  \#   \Psi  }%
\ottpremise{\Psi  \ottsym{;}  A  \Vdash  e_{{\mathrm{1}}}  \ottsym{:}  \tau_{{\mathrm{1}}}  \leadsto  t_{{\mathrm{1}}}}%
\ottpremise{\Psi  \ottsym{;}  x  \ottsym{:}   \forall  A  .  \tau_{{\mathrm{1}}}   \Vdash  e_{{\mathrm{2}}}  \ottsym{:}  \tau  \leadsto   t_{{\mathrm{2}}} }%
}{
\Psi  \Vdash  \textbf{let} \, x  \ottsym{=}  e_{{\mathrm{1}}} \, \textbf{in} \, e_{{\mathrm{2}}}  \ottsym{:}  \tau  \leadsto   [  \ottsym{(}   \Lambda  A  .  t_{{\mathrm{1}}}   \ottsym{)}  /  x  ]  t_{{\mathrm{2}}} }{%
{\ottdrulename{Dec\_\_Let}}{}%
}}

\newcommand{\ottdefnDec}[1]{\begin{ottdefnblock}[#1]{$\Psi  \Vdash  e  \ottsym{:}  \tau  \leadsto  t$}{\ottcom{Term Typing}}
\ottusedrule{\ottdruleDecXXXXVar{}}
\ottusedrule{\ottdruleDecXXXXUnit{}}
\ottusedrule{\ottdruleDecXXXXAbs{}}
\ottusedrule{\ottdruleDecXXXXApp{}}
\ottusedrule{\ottdruleDecXXXXLet{}}
\end{ottdefnblock}}

%% defn SS
\newcommand{\ottdruleSubSumpASpecXXXXM}[1]{\ottdrule[#1]{%
}{
\Psi  \Vdash  t  \ottsym{:}  \tau  \geq_{spec}  t  \ottsym{:}  \ottsym{[}  \bullet  \ottsym{]}  \tau}{%
{\ottdrulename{SubSumpASpec\_\_M}}{}%
}}


\newcommand{\ottdruleSubSumpASpecXXXXS}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \ottsym{;}  A_{{\mathrm{1}}}  \vdash_{\texttt{T} }  \tau}%
\ottpremise{\Psi  \ottsym{;}  A_{{\mathrm{1}}}  \Vdash  t_{{\mathrm{1}}}  \ottsym{[}  \tau  \ottsym{]}  \ottsym{:}  \ottsym{\{}  \tau  \ottsym{/}  \alpha  \ottsym{\}}  \sigma  \geq_{spec}  t_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  \tau}%
}{
\Psi  \Vdash  t_{{\mathrm{1}}}  \ottsym{:}  \forall \, \alpha  .  \sigma  \geq_{spec}  t_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  \ottnt{A_{{\mathrm{1}}}}  \doubleplus  \ottnt{A_{{\mathrm{2}}}}  \ottsym{]}  \tau}{%
{\ottdrulename{SubSumpASpec\_\_S}}{}%
}}

\newcommand{\ottdefnSS}[1]{\begin{ottdefnblock}[#1]{$\Psi  \Vdash  t_{{\mathrm{1}}}  \ottsym{:}  \sigma  \geq_{spec}  t_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{]}  \tau$}{\ottcom{SubSump with A}}
\ottusedrule{\ottdruleSubSumpASpecXXXXM{}}
\ottusedrule{\ottdruleSubSumpASpecXXXXS{}}
\end{ottdefnblock}}

%% defn DecA
\newcommand{\ottdruleDecAXXXXVar}[1]{\ottdrule[#1]{%
\ottpremise{ \Psi  ( x ) =  \sigma }%
\ottpremise{\Psi  \Vdash  x  \ottsym{:}  \sigma  \geq_d  t  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \tau}%
}{
\Psi  \Vdash  x  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \tau  \leadsto  t}{%
{\ottdrulename{DecA\_\_Var}}{}%
}}


\newcommand{\ottdruleDecAXXXXUnit}[1]{\ottdrule[#1]{%
\ottpremise{ A  \#   \Psi  }%
}{
\Psi  \Vdash  \texttt{unit}  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \texttt{Unit}  \leadsto  \texttt{unit}}{%
{\ottdrulename{DecA\_\_Unit}}{}%
}}


\newcommand{\ottdruleDecAXXXXAbs}[1]{\ottdrule[#1]{%
\ottpremise{ A_{{\mathrm{1}}}  \#   \Psi  }%
\ottpremise{\Psi  \ottsym{;}  A_{{\mathrm{1}}}  \vdash_{\texttt{T} }  \tau_{{\mathrm{1}}}}%
\ottpremise{\Psi  \ottsym{;}  A_{{\mathrm{1}}}  \ottsym{;}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \Vdash  e  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{2}}}  \leadsto   t }%
}{
\Psi  \Vdash  \lambda  x  .  e  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}  \leadsto  \lambda  \ottsym{(}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{)}  .  t}{%
{\ottdrulename{DecA\_\_Abs}}{}%
}}


\newcommand{\ottdruleDecAXXXXApp}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \Vdash  e_{{\mathrm{1}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \ottsym{]}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}  \leadsto  t_{{\mathrm{1}}}}%
\ottpremise{\Psi  \ottsym{;}  A_{{\mathrm{1}}}  \Vdash  e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{1}}}  \leadsto  t_{{\mathrm{2}}}}%
}{
\Psi  \Vdash  e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{2}}}  \leadsto  t_{{\mathrm{1}}} \, t_{{\mathrm{2}}}}{%
{\ottdrulename{DecA\_\_App}}{}%
}}


\newcommand{\ottdruleDecAXXXXLet}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \Vdash  e_{{\mathrm{1}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \ottsym{]}  \tau_{{\mathrm{1}}}  \leadsto  t_{{\mathrm{1}}}}%
\ottpremise{\Psi  \ottsym{;}  x  \ottsym{:}   \forall  A_{{\mathrm{1}}}  .  \tau_{{\mathrm{1}}}   \ottsym{;}  \ottsym{\{}  A_{{\mathrm{1}}}  \ottsym{\}}  \Vdash  e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau  \leadsto   t_{{\mathrm{2}}} }%
}{
\Psi  \Vdash  \textbf{let} \, x  \ottsym{=}  e_{{\mathrm{1}}} \, \textbf{in} \, e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau  \leadsto   [  \ottsym{(}   \Lambda  A_{{\mathrm{1}}}  .  t_{{\mathrm{1}}}   \ottsym{)}  /  x  ]  t_{{\mathrm{2}}} }{%
{\ottdrulename{DecA\_\_Let}}{}%
}}

\newcommand{\ottdefnDecA}[1]{\begin{ottdefnblock}[#1]{$\Psi  \Vdash  e  \ottsym{:}  \ottsym{[}  \ottnt{A}  \ottsym{]}  \tau  \leadsto  t$}{\ottcom{Term Typing with A}}
\ottusedrule{\ottdruleDecAXXXXVar{}}
\ottusedrule{\ottdruleDecAXXXXUnit{}}
\ottusedrule{\ottdruleDecAXXXXAbs{}}
\ottusedrule{\ottdruleDecAXXXXApp{}}
\ottusedrule{\ottdruleDecAXXXXLet{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsDeclarativeSystem}{
\ottdefnDec{}\ottdefnSS{}\ottdefnDecA{}}

% defns AlgorithmicSystem
%% defn Inf
\newcommand{\ottdruleInfXXXXVar}[1]{\ottdrule[#1]{%
\ottpremise{ \Psi  ( x ) =  \sigma }%
\ottpremise{ x  :  \sigma  \geq_{a}  t  : [  A  ]  \tau }%
}{
\Psi  \vdash  x  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \tau  \leadsto  t  \dashv  \Psi}{%
{\ottdrulename{Inf\_\_Var}}{}%
}}


\newcommand{\ottdruleInfXXXXUnit}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \vdash  \texttt{unit}  \ottsym{:}  \ottsym{[}  \bullet  \ottsym{]}  \texttt{Unit}  \leadsto  \texttt{unit}  \dashv  \Psi}{%
{\ottdrulename{Inf\_\_Unit}}{}%
}}


\newcommand{\ottdruleInfXXXXAbs}[1]{\ottdrule[#1]{%
\ottpremise{ \alpha  \#  \Psi_{\ottmv{in}} }%
\ottpremise{\ottkw{Alg} \, \alpha}%
\ottpremise{\Psi_{\ottmv{in}}  \ottsym{;}  \langle  \alpha  \rangle  \ottsym{;}  x  \ottsym{:}  \alpha  \vdash  e  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{2}}}  \leadsto   t   \dashv  \Psi_{\ottmv{out}}  \ottsym{;}  A_{{\mathrm{1}}}  \ottsym{;}  x  \ottsym{:}  \tau_{{\mathrm{1}}}}%
}{
\Psi_{\ottmv{in}}  \vdash  \lambda  x  .  e  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{1}}}  \to  \tau_{{\mathrm{2}}}  \leadsto  \lambda  \ottsym{(}  x  \ottsym{:}  \tau_{{\mathrm{1}}}  \ottsym{)}  .  t  \dashv  \Psi_{\ottmv{out}}}{%
{\ottdrulename{Inf\_\_Abs}}{}%
}}


\newcommand{\ottdruleInfXXXXApp}[1]{\ottdrule[#1]{%
\ottpremise{\Psi_{\ottmv{in}}  \vdash  e_{{\mathrm{1}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \ottsym{]}  \tau  \leadsto  t_{{\mathrm{1}}}  \dashv  \Psi_{{\mathrm{1}}}}%
\ottpremise{\Psi_{{\mathrm{1}}}  \ottsym{;}  \ottsym{\{}  t_{{\mathrm{1}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \ottsym{]}  \tau  \ottsym{\}}  \vdash  e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{1}}}  \leadsto  t_{{\mathrm{2}}}  \dashv  \Psi_{{\mathrm{2}}}  \ottsym{;}  \ottsym{\{}  t'_{{\mathrm{1}}}  \ottsym{:}  \ottsym{[}  A'_{{\mathrm{1}}}  \ottsym{]}  \tau'  \ottsym{\}}}%
\ottpremise{ \alpha  \#  \Psi_{{\mathrm{2}}}  \ottsym{;}  \ottsym{(}  A'_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{)} }%
\ottpremise{\ottkw{Alg} \, \alpha}%
\ottpremise{\Psi_{{\mathrm{2}}}  \ottsym{;}  \ottsym{(}  A'_{{\mathrm{1}}}  \doubleplus  A_{{\mathrm{2}}}  \ottsym{;}  \alpha  \ottsym{)}  \ottsym{;}  \ottsym{\{}  t'_{{\mathrm{1}}} \, t_{{\mathrm{2}}}  \ottsym{:}  \alpha  \ottsym{\}}  \vdash  \tau' \, \sim \, \tau_{{\mathrm{1}}}  \to  \alpha  \dashv  \Psi_{\ottmv{out}}  \ottsym{;}  A_{\ottmv{out}}  \ottsym{;}  \ottsym{\{}  t_{\ottmv{out}}  \ottsym{:}  \tau_{\ottmv{out}}  \ottsym{\}}}%
}{
\Psi_{\ottmv{in}}  \vdash  e_{{\mathrm{1}}} \, e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{\ottmv{out}}  \ottsym{]}  \tau_{\ottmv{out}}  \leadsto  t_{\ottmv{out}}  \dashv  \Psi_{\ottmv{out}}}{%
{\ottdrulename{Inf\_\_App}}{}%
}}


\newcommand{\ottdruleInfXXXXLet}[1]{\ottdrule[#1]{%
\ottpremise{\Psi_{\ottmv{in}}  \vdash  e_{{\mathrm{1}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{1}}}  \ottsym{]}  \tau  \leadsto  t_{{\mathrm{1}}}  \dashv  \Psi_{{\mathrm{1}}}}%
\ottpremise{\Psi_{{\mathrm{1}}}  \ottsym{;}  x  \ottsym{:}   \forall  A_{{\mathrm{1}}}  .  \tau   \ottsym{;}  \ottsym{\{}   \Lambda  A_{{\mathrm{1}}}  .  t_{{\mathrm{1}}}   \ottsym{\}}  \ottsym{;}  \ottsym{\{}  A_{{\mathrm{1}}}  \ottsym{\}}  \vdash  e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{2}}}  \leadsto   t_{{\mathrm{2}}}   \dashv  \Psi_{\ottmv{out}}  \ottsym{;}  x  \ottsym{:}  \sigma_{\ottmv{out}}  \ottsym{;}  \ottsym{\{}  t'_{{\mathrm{1}}}  \ottsym{\}}  \ottsym{;}  \ottsym{\{}  A'_{{\mathrm{1}}}  \ottsym{\}}}%
}{
\Psi_{\ottmv{in}}  \vdash  \textbf{let} \, x  \ottsym{=}  e_{{\mathrm{1}}} \, \textbf{in} \, e_{{\mathrm{2}}}  \ottsym{:}  \ottsym{[}  A_{{\mathrm{2}}}  \ottsym{]}  \tau_{{\mathrm{2}}}  \leadsto   [  t'_{{\mathrm{1}}}  /  x  ]  t_{{\mathrm{2}}}   \dashv  \Psi_{\ottmv{out}}}{%
{\ottdrulename{Inf\_\_Let}}{}%
}}

\newcommand{\ottdefnInf}[1]{\begin{ottdefnblock}[#1]{$\Psi_{{\mathrm{1}}}  \vdash  e  \ottsym{:}  \ottsym{[}  A  \ottsym{]}  \tau  \leadsto  t  \dashv  \Psi_{{\mathrm{2}}}$}{\ottcom{Type Inference}}
\ottusedrule{\ottdruleInfXXXXVar{}}
\ottusedrule{\ottdruleInfXXXXUnit{}}
\ottusedrule{\ottdruleInfXXXXAbs{}}
\ottusedrule{\ottdruleInfXXXXApp{}}
\ottusedrule{\ottdruleInfXXXXLet{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsAlgorithmicSystem}{
\ottdefnInf{}}

% defns EironmentInstantiation
%% defn AInst
\newcommand{\ottdruleAInstXXXXNil}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \vdash  \bullet  \leadsto  \bullet}{%
{\ottdrulename{AInst\_\_Nil}}{}%
}}


\newcommand{\ottdruleAInstXXXXC}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \vdash  A  \leadsto  \theta_{{\mathrm{2}}}}%
\ottpremise{\Psi  \vdash_{\texttt{T} }  \tau}%
}{
\Psi  \vdash  A  \ottsym{;}  \alpha  \leadsto  \ottsym{[}  \tau  \ottsym{/}  \alpha  \ottsym{]} \, \circ \, \theta_{{\mathrm{2}}}}{%
{\ottdrulename{AInst\_\_C}}{}%
}}

\newcommand{\ottdefnAInst}[1]{\begin{ottdefnblock}[#1]{$\Psi  \vdash  A  \leadsto  \theta_{{\mathrm{2}}}$}{\ottcom{A instantiation}}
\ottusedrule{\ottdruleAInstXXXXNil{}}
\ottusedrule{\ottdruleAInstXXXXC{}}
\end{ottdefnblock}}

%% defn EInst
\newcommand{\ottdruleEInstXXXXNil}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \ottsym{,}  \theta  \vdash  \bullet  \leadsto  \bullet  \ottsym{,}  \bullet}{%
{\ottdrulename{EInst\_\_Nil}}{}%
}}


\newcommand{\ottdruleEInstXXXXA}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}%
\ottpremise{ A_{\ottmv{dec}}  \#   \Psi_{\ottmv{dec}}  }%
\ottpremise{\Psi  \ottsym{+}  \Psi_{\ottmv{dec}}  \ottsym{;}  A_{\ottmv{dec}}  \vdash  A_{\ottmv{alg}}  \leadsto  \theta_{{\mathrm{3}}}}%
}{
\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \ottsym{;}  A_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{;}  A_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{3}}}  \ottsym{+}  \theta_{{\mathrm{2}}}}{%
{\ottdrulename{EInst\_\_A}}{}%
}}


\newcommand{\ottdruleEInstXXXXS}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \ottsym{;}  x  \ottsym{:}  \sigma_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{;}  x  \ottsym{:}  \ottsym{(}  \theta_{{\mathrm{2}}}  \ottsym{+}  \theta_{{\mathrm{1}}}  \ottsym{)} \, \sigma_{\ottmv{alg}}  \ottsym{,}  \theta_{{\mathrm{2}}}}{%
{\ottdrulename{EInst\_\_S}}{}%
}}


\newcommand{\ottdruleEInstXXXXO}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
\ottpremise{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}%
\ottpremise{ A_{\ottmv{dec}}  \#   \Psi_{\ottmv{dec}}  }%
\ottpremise{\Psi  \ottsym{+}  \Psi_{\ottmv{dec}}  \ottsym{;}  A_{\ottmv{dec}}  \vdash  A_{\ottmv{alg}}  \leadsto  \theta_{{\mathrm{3}}}}%
}{
\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \ottsym{;}  \ottsym{\{}  t_{\ottmv{alg}}  \ottsym{:}  \ottsym{[}  A_{\ottmv{alg}}  \ottsym{]}  \sigma_{\ottmv{alg}}  \ottsym{\}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{;}  \ottsym{\{}  \ottsym{(}  \theta_{{\mathrm{3}}}  \ottsym{+}  \theta_{{\mathrm{2}}}  \ottsym{+}  \theta_{{\mathrm{1}}}  \ottsym{)} \, t_{\ottmv{alg}}  \ottsym{:}  \ottsym{[}  A_{\ottmv{dec}}  \ottsym{]}  \ottsym{(}  \theta_{{\mathrm{3}}}  \ottsym{+}  \theta_{{\mathrm{2}}}  \ottsym{+}  \theta_{{\mathrm{1}}}  \ottsym{)} \, \sigma_{\ottmv{alg}}  \ottsym{\}}  \ottsym{,}  \theta_{{\mathrm{2}}}}{%
{\ottdrulename{EInst\_\_O}}{}%
}}

\newcommand{\ottdefnEInst}[1]{\begin{ottdefnblock}[#1]{$\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \vdash  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}$}{\ottcom{Environment instantiation}}
\ottusedrule{\ottdruleEInstXXXXNil{}}
\ottusedrule{\ottdruleEInstXXXXA{}}
\ottusedrule{\ottdruleEInstXXXXS{}}
\ottusedrule{\ottdruleEInstXXXXO{}}
\end{ottdefnblock}}

%% defn EInstD
\newcommand{\ottdruleEInstDXXXXNil}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \ottsym{,}  \theta  \ottsym{\mbox{$\mid$}-'}  \bullet  \leadsto  \bullet  \ottsym{,}  \bullet}{%
{\ottdrulename{EInstD\_\_Nil}}{}%
}}


\newcommand{\ottdruleEInstDXXXXA}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}%
\ottpremise{ A_{\ottmv{dec}}  \#   \Psi_{\ottmv{dec}}  }%
\ottpremise{\ottkw{Dec} \, A_{\ottmv{dec}}}%
\ottpremise{\Psi  \ottsym{+}  \Psi_{\ottmv{dec}}  \ottsym{;}  A_{\ottmv{dec}}  \vdash  A_{\ottmv{alg}}  \leadsto  \theta_{{\mathrm{3}}}}%
}{
\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \ottsym{;}  A_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{;}  A_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{3}}}  \ottsym{+}  \theta_{{\mathrm{2}}}}{%
{\ottdrulename{EInstD\_\_A}}{}%
}}


\newcommand{\ottdruleEInstDXXXXS}[1]{\ottdrule[#1]{%
\ottpremise{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}%
\ottpremise{ \vspace{-1em} }%
}{
\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \ottsym{;}  x  \ottsym{:}  \sigma_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{;}  x  \ottsym{:}  \ottsym{(}  \theta_{{\mathrm{2}}}  \ottsym{+}  \theta_{{\mathrm{1}}}  \ottsym{)} \, \sigma_{\ottmv{alg}}  \ottsym{,}  \theta_{{\mathrm{2}}}}{%
{\ottdrulename{EInstD\_\_S}}{}%
}}


\newcommand{\ottdruleEInstDXXXXO}[1]{\ottdrule[#1]{%
\ottpremise{ \vspace{-1em} }%
\ottpremise{ \vspace{-1em} }%
\ottpremise{\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}}%
\ottpremise{ A_{\ottmv{dec}}  \#   \Psi_{\ottmv{dec}}  }%
\ottpremise{\ottkw{Dec} \, A_{\ottmv{dec}}}%
\ottpremise{\Psi  \ottsym{+}  \Psi_{\ottmv{dec}}  \ottsym{;}  A_{\ottmv{dec}}  \vdash  A_{\ottmv{alg}}  \leadsto  \theta_{{\mathrm{3}}}}%
}{
\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \ottsym{;}  \ottsym{\{}  t_{\ottmv{alg}}  \ottsym{:}  \ottsym{[}  A_{\ottmv{alg}}  \ottsym{]}  \sigma_{\ottmv{alg}}  \ottsym{\}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{;}  \ottsym{\{}  \ottsym{(}  \theta_{{\mathrm{3}}}  \ottsym{+}  \theta_{{\mathrm{2}}}  \ottsym{+}  \theta_{{\mathrm{1}}}  \ottsym{)} \, t_{\ottmv{alg}}  \ottsym{:}  \ottsym{[}  A_{\ottmv{dec}}  \ottsym{]}  \ottsym{(}  \theta_{{\mathrm{3}}}  \ottsym{+}  \theta_{{\mathrm{2}}}  \ottsym{+}  \theta_{{\mathrm{1}}}  \ottsym{)} \, \sigma_{\ottmv{alg}}  \ottsym{\}}  \ottsym{,}  \theta_{{\mathrm{2}}}}{%
{\ottdrulename{EInstD\_\_O}}{}%
}}

\newcommand{\ottdefnEInstD}[1]{\begin{ottdefnblock}[#1]{$\Psi  \ottsym{,}  \theta_{{\mathrm{1}}}  \ottsym{\mbox{$\mid$}-'}  \Psi_{\ottmv{alg}}  \leadsto  \Psi_{\ottmv{dec}}  \ottsym{,}  \theta_{{\mathrm{2}}}$}{\ottcom{Environment instantiation}}
\ottusedrule{\ottdruleEInstDXXXXNil{}}
\ottusedrule{\ottdruleEInstDXXXXA{}}
\ottusedrule{\ottdruleEInstDXXXXS{}}
\ottusedrule{\ottdruleEInstDXXXXO{}}
\end{ottdefnblock}}


\newcommand{\ottdefnsEironmentInstantiation}{
\ottdefnAInst{}\ottdefnEInst{}\ottdefnEInstD{}}

\newcommand{\ottdefnss}{
\ottdefnsTermTyping
\ottdefnsWellFormedness
\ottdefnsUnification
\ottdefnsDeclarativeSystem
\ottdefnsAlgorithmicSystem
\ottdefnsEironmentInstantiation
}

\newcommand{\ottall}{\ottmetavars\\[0pt]
\ottgrammar\\[5.0mm]
\newpage 
\ottdefnss}

